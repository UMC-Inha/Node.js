- API
  - 정의: 정의와 프로토콜을 사용하여 두 소프트웨어 구성 요소가 서로 통신할 수 있게 하는 방식
  - Application Programming Interface
    - API 맥락에서 Application은 고유한 기능을 가진 모든 소프트웨어
    - Interface는 두 Application 간의 서비스 계약으로 요청과 응답을 사용하여 통신하는 방법
    - API 문서에는 개발자의 이러한 요청과 응답을 구성하는 방법에 대한 정리
  - 예시: 기상청 소프트웨어 시스템 내 데이터인 **일일 기상 데이터**를 **휴대폰 날씨 앱과 기상청 소프트웨어 시스템은 API를 통해 연결하여 휴대폰에 최신 날씨 정보 표시**
  - 유형
    - 프라이빗 API : 기업 내부의 비즈니스에서 시스템과 데이터를 연결하는 데 사용
    - 퍼블릭 API : 일반에 공개되며 누구나 사용 가능. API 관련한 권한 부여와 비용의 유무 존재
    - 파트너 API : B2B 파트너쉽을 지원하기 위해 권한이 부여된 외부 개발자만 엑세스 가능
    - 복합 API : 두 개 이상의 서로 다른 API를 결합하여 복잡한 시스템 요구 사항이나 동작 처리
  - API 종류
    - API Architecture : API 대하여 그 구성과 동작 원리, 구성 요소 간의 관계 및 시스템 외부 환경과의 관계 등을 설명하는 설계도
    - 요청을 보내는 Application **클라이언트** + 응답을 보내는 Application **서버**
    1. **SOAP API** : 단순 객체 접근 프로토콜을 사용. 클라이언트와 서버는 XML을 사용하여 메세지 교환. 과거에 많이 사용되었으며 유연성이 떨어지는 단점
    2. **RPC API :** 원격 프로시저 호출. 클라이언트가 서버에서 함수나 프로시저를 완료하면 서버가 클라이언트에게 전송
    3. **Websocket API** : JSON 객체를 사용하여 데이터를 전달하는 최신 웹 API 개발. Websocket API는 클라이언트 앱과 서버 간의 양방향 통신을 지원. 서버가 클라이언트에 콜백 메세지를 전송할 수 있어 REST API보다 효율적
    4. **REST API** : 오늘날 웹에서 볼 수 있는 가장 많이 사용되고 유연한 API. 클라이언트가 서버에 요청을 데이터로 전송. 서버가 클라이언트 입력을 사용하여 서버 내부 함수를 시작하고 출력 데이터를 다시 클라이언트에게 반환하는 방식
  - (참고) API 마켓플레이스: RapidAPI, Public APIs, APIForThat 및 APILis

---

- REST API
  - REST (Representational State Transfer) : 클라이언트가 서버 데이터에 엑세스하는 데 사용할 수 있는 GET, POST, PUT, DELETE 등의 함수 집합.
  - 클라이언트와 서버는 HTTP를 사용하여 데이터를 교환
    - HTTP: 클라이언트와 서버 사이에 이루어지는 프로토콜
    - 웹 브라우저가 HTTP를 통하여 서버로부터 웹 페이지(HTML)나 그림 정보 요청 시에 서버는 해당 정보를 모니터나 출력 장치로 사용자에게 나타나짐.
    - HTTP를 통한 전달 자료는 http:로 시작하는 URL로 조회 가능
  - **무상태** : 서버가 요청 간에 클라이언트 데이터를 저장하지 않음. 서버에 대한 클라이언트 요청은 웹 사이트를 방문하기 위해 브라우저에 입력하는 URL과 유사한 방식 (서버의 응답은 웹 페이지의 일반적인 그래픽 렌더링이 없는 일반 데이터)
  - 보호 방법
    - 인증 토큰
      - 사용자에게 API 호출을 수행할 수 있는 권한을 부여.
      - 사용자가 자신이 누구인지 확인하고 해당 특정 API 호출에 대한 액세스 권한이 있는지 확인.
      - 예시: 이메일 서버에 로그인하면 이메일 클라이언트는 보안 액세스를 위해 인증 토큰을 사용.
    - API - API를 호출하는 프로그램 또는 애플리케이션을 확인. - 애플리케이션을 식별하고 애플리케이션에 특정 API 호출을 수행하는 데 필요한 액세스 권한이 있는지 확인 - API 키는 토큰만큼 안전하지 않지만 사용량에 대한 데이터를 수집하기 위해 API 모니터링을 허용 가능. - 다른 웹 사이트를 방문할 때 브라우저 URL에서 긴 문자열과 숫자를 본 적이 있는데 이 URL이 내부 API에서 호출할 때 사용하는 API 키
      > 장점
      >
      > **1. 통합**
      >
      > API는 새로운 애플리케이션을 기존 소프트웨어 시스템과 통합하는 데 사용됩니다. 그러면 각 기능을 처음부터 작성할 필요가 없기 때문에 개발 속도가 빨라집니다. API를 사용하여 기존 코드를 활용할 수 있습니다.
      >
      > **2. 혁신**
      >
      > 새로운 앱의 등장으로 전체 산업이 바뀔 수 있습니다. 기업은 신속하게 대응하고 혁신적인 서비스의 신속한 배포를 지원해야 합니다. 전체 코드를 다시 작성할 필요 없이 API 수준에서 변경하여 이를 수행할 수 있습니다.
      >
      > **3. 확장**
      >
      > API는 기업이 다양한 플랫폼에서 고객의 요구 사항을 충족할 수 있는 고유한 기회를 제공합니다. 예를 들어 지도 API를 사용하면 웹 사이트, Android, iOS 등을 통해 지도 정보를 통합할 수 있습니다. 어느 기업이나 무료 또는 유료 API를 사용하여 내부 데이터베이스에 유사한 액세스 권한을 부여할 수 있습니다.
      >
      > **4. 유지 관리의 용이성**
      >
      > API는 두 시스템 간의 게이트웨이 역할을 합니다. API가 영향을 받지 않도록 각 시스템은 내부적으로 변경해야 합니다. 이렇게 하면 한 시스템의 향후 코드 변경이 다른 시스템에 영향을 미치지 않습니다.

---

- RESTful API
  - 정의 : 두 컴퓨터 시스템이 인터넷을 통해 정보를 안전하게 교환하기 위해 사용하는 인터페이스
  - REST API : REST 아키텍처 스타일을 따르는 API
  - RESTful 웹 서비스 : REST 아키텍처를 구현하는 웹 서비스
  - RESTful API : RESTful 웹 API. REST API와 RESTful API라는 용어는 같은 의미로 사용 가능
  - REST 아키텍처 원칙
    - 균일한 인터페이스
      - 모든 RESTful 웹 서비스 디자인의 기본. 이는 서버가 표준 형식으로 정보를 전송해야 한다는 것
      - 형식이 지정된 리소스를 REST에서 표현 : 형식이 지정된 리소스를 지켜야 함. 이 형식은 예를 들어, 서버는 데이터를 텍스트로 저장하되, HTML 표현 형식으로 전송할 수 있다는 것.
      - 제약 조건
        1. 요청은 리소스를 식별해야 함. 이를 위해 균일한 리소스 식별자를 사용
        2. 클라이언트는 원하는 경우 리소스를 수정하거나 삭제하기에 충분한 정보를 리소스 표현에서 가지고 있어야 함. 서버는 리소스를 자세히 설명하는 메타 데이터를 전송하여 이 조건을 충족시킴.
        3. 클라이언트는 작업을 완료하는 데 필요한 다른 모든 관련 리소스에 대한 정보를 수신. 이를 위해 서버는 클라이언트가 더 많은 리소스를 동적으로 검색할 수 있도록 표현에 하이퍼링크를 넣어 전송.
    - 무상태
      - REST 아키텍처에서 무상태는 서버가 이전의 모든 요청과 **독립적으로** 모든 클라이언트 요청을 완료하는 통신 방법.
      - 클라이언트는 임의의 순서로 리소스를 요청
    - 캐시 가능성
      - RESTful 웹 서비스는 서버 응답 시간을 개선하기 위해 클라이언트 또는 중개자에 일부 응답을 저장하는 프로세스인 캐싱을 지원.
      - 예를 들어, 모든 페이지에 공통 머리글 및 바닥글 이미지가 있는 웹 사이트를 방문한다고 가정. 새로운 웹 사이트 페이지를 방문할 때마다 서버는 동일한 이미지를 다시 전송해야 하지만, 이를 피하기 위해 클라이언트는 첫 번째 응답 후에 해당 이미지를 캐싱하거나 저장한 다음 캐시에서 직접 이미지를 사용. RESTful 웹 서비스는 캐시 가능 또는 캐시 불가능으로 정의되는 API 응답을 사용하여 캐싱을 제어.
    - 온디맨드 코드
      - REST 아키텍처 스타일에서 서버는 소프트웨어 프로그래밍 코드를 클라이언트에 전송하여 클라이언트 기능을 일시적으로 확장하거나 사용자 지정 가능
      - 예를 들어, **웹 사이트에서 등록 양식을 작성하면 브라우저는 잘못된 전화번호와 같은 실수를 즉시 강조 표시**. 서버에서 전송한 코드로 인해 가능
  - 작동 방식
    1. 클라이언트가 서버에 요청을 전송. 클라이언트가 API 문서에 따라 서버가 이해하는 방식으로 요청 형식을 지정함.
    2. 서버가 클라이언트를 인증하고 해당 요청을 수행할 수 있는 권한이 클라이언트에 있는지 확인.
    3. 서버가 요청을 수신하고 내부적으로 처리.
    4. 서버가 클라이언트에 응답을 반환. 응답에는 **요청이 성공했는지 여부를** **클라이언트에 알려주는 정보** + **응답에는 클라이언트가 요청한 모든 정보**도 포함.
  - RESTful API 클라이언트 요청 - 주요 구성요소
    1. 고유 리소스 식별자
    2. 메서드 : 개발자는 HTTP를 사용하여 RESTful API를 구현. HTTP 메서드는 리소스에 수행해야 하는 작업을 서버에 알려줍니다. HTTP 메서드
       - GET
         서버의 지정된 URL에 있는 리소스에 접근. GET 요청을 캐싱하고 RESTful API 요청에 Parameter를 넣어 전송하여 다시 클라이언트에 전송 전에 데이터를 필터링하도록 서버에 지시 가능.
       - POST
         서버에 데이터를 전송. **요청과 함께 데이터 표현 포함.**
       - PUT
         서버의 기존 리소스를 업데이트합니다.
       - DELETE
         리소스를 제거합니다. DELETE 요청은 서버 상태를 변경 가능. 하지만 사용자에게 적절한 권한이 없으면 불가
    3. HTTP 헤더 : 요청 헤더는 클라이언트와 서버 간에 교환되는 메타데이터. 예를 들어, 요청 헤더는 요청 및 응답의 형식을 나타내고 요청 상태 등에 대한 정보를 제공.
       - _데이터_
         REST API 요청에는 POST, PUT 및 기타 HTTP 메서드가 성공적으로 작동하기 위한 데이터가 포함.
       - 파라미터
         RESTful API 요청에는 수행해야 할 작업에 대한 자세한 정보를 서버에 제공하는 파라미터가 포함.
         - URL 세부정보를 지정하는 경로 파라미터.
         - 리소스에 대한 추가 정보를 요청하는 쿼리 파라미터.
         - 클라이언트를 빠르게 인증하는 쿠키 파라미터.
  - RESTful API 서버 응답 - 주요 구성요소
    1. Status 표시
       - 요청 성공 또는 실패를 알리는 3자리 상태 코드.
       - 예시 : 2XX 코드는 성공 / 4XX 및 5XX 코드 오류 / 3XX 코드는 URL 리디렉션
         - 200: 일반 성공 응답
         - 201: POST 메서드 성공 응답
         - 400: 서버가 처리할 수 없는 잘못된 요청
         - 404: 리소스를 찾을 수 없음
    2. 본문
       - 리소스 표현.
       - 서버는 요청 헤더에 포함된 내용을 기반으로 적절한 표현 형식을 선택.
       - 클라이언트는 데이터 작성 방식을 일반 텍스트로 정의하는 XML 또는 JSON 형식으로 정보를 요청.
       - 예시: 클라이언트가 ‘박진하’이라는 사람의 이름과 나이를 요청하면 서버는 다음과 같이 JSON 표현을 반환.
         ```jsx
         '{"name":"박진하", "age":23}';
         ```
    3. Header
       - 응답에 대한 헤더 또는 메타데이터 포함.
       - 추가 컨텍스트를 제공하고 서버, 인코딩, 날짜 및 콘텐츠 유형과 같은 정보 포함

---

- WEB API (WEB Service API)
  - 정의 : 웹 서버와 웹 브라우저 간의 어플리케이션 처리 인터페이스
  - 모든 웹 서비스는 API / but, 모든 API는 웹 서비스 X
  - REST API는 표준 아키텍처 스타일을 사용하는 특수한 유형의 웹 API
  - 최신 웹 API는 REST API이며 용어는 서로 바꿔 사용함.

---

- API 통합
  - 정의 : 클라이언트와 서버 간의 데이터를 자동으로 업데이트하는 소프트웨어 구성 요소
  - 예시: 휴대폰 이미지 갤리러에서의 클라우드로 데이터 자동 동기화 / 다른 시간대 여행 시 노트북에서 시간 및 날짜 자동 동기화
  - API 통합을 사용하여 많은 시스템 함수를 효율적으로 자동화

---

- API Endpoint
  - 정의: 개발자들이 특정 기능이나 데이터에 접근할 수 있도록 API 내에서 특정 URL을 제공하는 것.
  - 역할
    - API와 서버가 상호작용하고 통신하며 데이터를 교환하는 지점 역할
    - 다양한 리소스에 접근하기 위한 경호를 정의하는 중요한 역할
    - 각 Endpoint는 API 내에서 특정 서비스나 데이터 포인트를 대표하는 고유한 URL에 해당
    - **Base URL + Resource Path**
      - **Base URL : API 내 모든 엔드포인트가 공유하는 공통 경로**
      - **Resource Path : 접근하는 리소스를 식별하는 URL의 특정 부분**
  - 예시
    - **GET/users** : 사용자 목록을 가져옵니다.
    - **POST/users**: 새로운 사용자를 생성합니다.
    - **GET/users/{id}** : ID에 해당하는 특정 사용자를 가져옵니다.
    - **PUT/users/{id}** : ID에 해당하는 특정 사용자를 업데이트합니다.
    - **DELETE/users/{id}** : ID에 해당하는 특정 사용자를 삭제합니다.
  - 구성 요소
    - **HTTP Method** : 수행할 동작, 예를 들면 GET, POST, PUT, DELETE 등
    - **Endpoint URL**: 리소스와 동작을 지정하는 고유한 URL 경로
    - **Parameters**: 응답을 필터링하거나 수정하기 위해 엔드포인트에 전달되는 선택적인 값
  - 중요성
    - 구조화된 접근 : 웹 서비스 내 다양한 리소스에 구조적으로 접근하고 상호작용할 수 있는 방법 제공
    - 확장성 : 리소스와 작업을 효율적으로 구성함으로써 서비스 확장에 도움이 됨
    - 보안 : 적절하게 설계하면, 리소스에 대한 접근을 제어함으로써 API 보안을 강화
  - 사용
    - URL은 웹에서 다양한 목적으로 사용되어서 웹 API에서도 사용
    - API Endpoint API는 API 호출을 위한 API
    - API 서버는 하나 이상의 API Endpoint를 호스팅 가능 : API 서버가 해당 Endpoint의 URL에 대한 호출을 수락하고 처리 가능
    - API 클라이언트는 API 서버가 응답을 보낼 위치를 알 수 있도록 URL이 있어야 함. (서로)
    - URL에는 URL에 도달하는 데 사용되는 HTTP(응용 프로그램 계층 프로토콜) 포함
  - 인증
    - API 호출을 아무에게나 수락하게 되면 보안에 취약 (API 서버가 공격자로부터 악의적인 데이터를 수신하게 할 가능성)
    - API 서버는 호출을 보내는 API 클라이언트가 신뢰 가능한 지 인증 필요
    1. **API 키** : 클라이언트와 API 서버만 알고 있는 고유한 문자열 할당. API 클라이언트가 API 호출을 서버 Endpoint에 보낼 때 호출이 어디서 왔는지 서버가 알 수 있도록
    2. **기본 인증(사용자 이름 및 비밀번호) :** 키 접근과 마찬가지로 API 클라이언트는 API 서비스에 사용자 이름과 비밀번호를 설정하고 API 호출에 이러한 자격 증명 포함
    3. **OAuth 토큰 :** API 서버는 클라이언트의 인증을 요구하는 대신, [OAuth](https://www.cloudflare.com/learning/access-management/what-is-oauth/) 프로토콜을 사용하여 신뢰할 수 있는 인증 서버에서 인증 토큰을 받을 수 있음.
    4. [\*\*mTLS](https://www.cloudflare.com/learning/access-management/what-is-mutual-tls/)(Mutual TLS) :\*\* [TLS](https://www.cloudflare.com/learning/ssl/transport-layer-security-tls/)는 웹페이지를 로드할 때 클라이언트와 서버 간에 인증된 연결을 생성하는 프로토콜. API 통합의 양쪽을 인증 가능. 가장 효율적인 인증 방법
       1. 클라이언트와 엔드포인트 모두를 인증하기 때문에 양쪽 모두가 합법적인 소스에서 데이터를 수신하고 있는지 확인 가능
       2. Endpoint 간에 절대 공유되지 않기 때문에 전송 중에 가로챌 수 없는 개인 키를 사용. 반면에 API 키, 비밀번호, 토큰은 모두 복제되거나 도난 가능성 존재

---

- API 사용 방법
  - 생성 권장
    **1. API 계획**
    - OpenAPI와 같은 API 사양은 API 설계를 위한 블루프린트를 제공합니다. 다양한 사용 사례를 미리 생각하고 API가 현재 API 개발 표준을 준수하는지 확인하는 것이 좋습니다.
      **2. API 빌드**
    - API 디자이너는 상용 코드를 사용하여 API 프로토타입을 생성합니다. 프로토타입이 테스트되면 개발자는 내부 사양에 맞게 이를 사용자 지정할 수 있습니다.
      **3. API 테스트**
    - API 테스트는 소프트웨어 테스트와 동일하며 버그 및 결함을 방지하기 위해 수행되어야 합니다. API 테스트 도구로 사이버 공격에 대비하여 API를 강화할 수 있습니다.
      **4. API 문서화**
    - API는 그 자체로 설명이 필요 없지만 API 문서는 사용 편의성은 높이는 가이드 역할을 합니다. 다양한 기능과 사용 사례를 제공하는 잘 문서화된 API는 서비스 지향 아키텍처에서 더 많이 사용되는 경향이 있습니다.
      **5. API 마케팅**
    - Amazon이 소매용 온라인 마켓플레이스인 것처럼 API 마켓플레이스는 개발자가 다른 API를 사고 팔기 위해 존재합니다. API를 나열하여 수익을 창출할 수 있습니다.
  - 작성 방법
    : 포괄적인 API 문서 작성은 [API 관리 프로세스](https://aws.amazon.com/api-gateway/api-management/?pg=wianapi&cta=apimgtprcs)의 일부입니다. API 문서는 도구를 사용하여 자동 생성하거나 수동으로 작성 가능
    - 간단하고 읽기 쉬운 영어로 설명을 작성합니다. 도구로 생성된 문서는 장황하며 편집이 필요할 수 있습니다.
    - 코드 샘플을 사용하여 기능을 설명합니다.
    - 문서를 정확하고 최신 상태로 유지합니다.
    - 초심자를 위한 작문 스타일을 목표로 합니다.
    - API가 사용자를 위해 해결할 수 있는 모든 문제를 다룹니다.
  - 사용 방법
    1. API 키 수령 : API 공급 업체의 확인을 받은 계정을 생성
    2. HTTP API 클라이언트를 설정 : 이 도구를 사용하면 수신된 API 키를 사용하여 API 요청을 쉽게 구성 가능
    3. API 클라이언트가 없는 경우 API 설명서를 참조하여 브라우저에서 요청을 직접 구성
    4. 새 API 구문에 파악 후, 코드에서 이를 사용하기 시작

https://dev-cool.tistory.com/32

https://cocoon1787.tistory.com/514?category=925946

- HTTP Header 구조
  - [https://aday7.tistory.com/entry/Web-HTTP-Header-구조-Request-headerResponse-header](https://aday7.tistory.com/entry/Web-HTTP-Header-%EA%B5%AC%EC%A1%B0-Request-headerResponse-header)
- Status Code
  - https://sanghaklee.tistory.com/61
- 객체 자료형
  - https://sweets1327.tistory.com/61
  - https://limsungju.tistory.com/6
- JSON
  - https://developer.mozilla.org/ko/docs/Learn/JavaScript/Objects/JSON
- [https://jinhos-devlog.tistory.com/entry/Chapter-6-API-URL-설계-프로젝트-세팅하기#✒️ 3. API Endpoint-1](https://jinhos-devlog.tistory.com/entry/Chapter-6-API-URL-%EC%84%A4%EA%B3%84-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%84%B8%ED%8C%85%ED%95%98%EA%B8%B0#%E2%9C%92%EF%B8%8F%203.%20API%20Endpoint-1)
- REST API 모범 사례
  - https://www.freecodecamp.org/korean/news/rest-api-mobeom-sarye-rest-endeupointeu-seolgye-yesi/
  - https://velog.io/@wo_ogie/restful-api-design#pagination
-
- [https://velog.io/@chchaeun/인증과](https://velog.io/@chchaeun/%EC%9D%B8%EC%A6%9D%EA%B3%BC)
